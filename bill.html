<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Buddy's Hotel - Bill</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      background: linear-gradient(135deg, #000, #111);
      color: #00ffc8;
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 2rem;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      font-weight: 700;
      margin-bottom: 1rem;
      user-select: none;
    }
    table {
      width: 100%;
      max-width: 600px;
      border-collapse: collapse;
      margin-bottom: 1.5rem;
      user-select: text;
    }
    th, td {
      border: 1px solid #00ffc8;
      padding: 10px 15px;
      text-align: left;
    }
    th {
      background: #004d40;
    }
    td.price, td.qty, td.subtotal {
      text-align: right;
    }
    tfoot td {
      font-weight: 700;
      font-size: 1.2rem;
      border-top: 2px solid #00ffc8;
    }
    #emptyMsg {
      font-size: 1.2rem;
      color: #888;
      margin-top: 50px;
      user-select: none;
    }
  </style>
</head>
<body>

  <h1>Your Food Bill</h1>

  <table id="billTable" aria-label="Food bill summary">
    <thead>
      <tr>
        <th>Item</th>
        <th>Qty</th>
        <th>Price (₹)</th>
        <th>Subtotal (₹)</th>
      </tr>
    </thead>
    <tbody>
      <!-- Items will be populated here -->
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3">Total</td>
        <td id="totalAmount">₹0</td>
      </tr>
    </tfoot>
  </table>

  <p id="emptyMsg" style="display:none;">No food items ordered yet.</p>

<script>
  function formatPrice(num) {
    return '₹' + num;
  }

  function loadCart() {
    const cartStr = localStorage.getItem('foodCart');
    if (!cartStr) return null;
    try {
      return JSON.parse(cartStr);
    } catch {
      return null;
    }
  }

  function renderBill(cart) {
    const tbody = document.querySelector('#billTable tbody');
    const emptyMsg = document.getElementById('emptyMsg');
    const totalElem = document.getElementById('totalAmount');

    tbody.innerHTML = '';
    if (!cart || Object.keys(cart).length === 0) {
      document.getElementById('billTable').style.display = 'none';
      emptyMsg.style.display = 'block';
      return;
    }

    document.getElementById('billTable').style.display = 'table';
    emptyMsg.style.display = 'none';

    let total = 0;
    for (const [item, details] of Object.entries(cart)) {
      const subtotal = details.price * details.qty;
      total += subtotal;

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${item}</td>
        <td class="qty">${details.qty}</td>
        <td class="price">${formatPrice(details.price)}</td>
        <td class="subtotal">${formatPrice(subtotal)}</td>
      `;
      tbody.appendChild(tr);
    }
    totalElem.textContent = formatPrice(total);
  }

  const cart = loadCart();
  renderBill(cart);
</script>

</body>
</html>
